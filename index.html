<!DOCTYPE html>
<html>
<head>
  <title>INNOMAPS</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  <style>
    html, body { margin: 0; padding: 0; height: 100%; }
    #map { height: 94vh; width: 100%; }

    .custom-div-icon div {
      position: relative;
      background-color: #fe6161;
      color: white;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      text-align: center;
      line-height: 30px;
      font-weight: bold;
      box-shadow: 0 0 4px rgba(0, 0, 0, 0.4);
      cursor: pointer;
    }
    .overlay-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.6); /* semi-transparent black */
      color: #fff;
      text-align: center;
      font-size: 13px;
      padding: 2px 0;
      z-index: 9999;
      backdrop-filter: blur(5px); /* optional: glass effect */
      font-family: Arial, sans-serif;
    }
    .overlay-header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(18, 191, 221, 0.066); /* Semi-transparent background */
      color: #fff;
      text-align: center;
      font-size: 18px;
      padding: 35px 0;
      z-index: 9999;
      backdrop-filter: blur(5px); /* Optional glass effect */
      font-family: Arial, sans-serif;
      box-shadow: 0 1px 3px rgba(254, 254, 254, 0.486);
    }
    
    .overlay-header h1 {
      margin: 0;
      font-size: 20px;
    }
    
    

    #event-list {
      position: absolute;
      bottom: 85px;
      right: 20px;
      background: rgba(166, 216, 243, 0.95);
      padding: 10px;
      border-radius: 8px;
      max-height: 400px;
      width: 280px;
      overflow-y: auto;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
      font-family: sans-serif;
      font-size: 14px;
      z-index: 1000;
    }

    #event-list h3 {
      margin-top: 0;
      font-size: 16px;
      text-align: center;
    }

    .legend {
      margin-bottom: 10px;
      font-size: 13px;
      line-height: 1.5;
    }

    .legend span {
      display: inline-block;
      width: 12px;
      height: 12px;
      margin-right: 5px;
      border-radius: 50%;
    }

    .event-item {
      margin: 5px 0;
      cursor: pointer;
      padding: 5px;
      border-radius: 4px;
      display: flex;
      align-items: center;
    }

    .event-item:hover {
      background-color: #f0f0f0;
    }

    #search-bar {
      width: 100%;
      padding: 5px;
      margin-bottom: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }

    #toggle-button {
      position: absolute;
      top: 8px;
      right: 8px;
      background: none;
      border: none;
      font-size: 18px;
      cursor: pointer;
    }

    #map-header {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1100;
      text-align: center;
      color: white;
      font-family: sans-serif;
      pointer-events: none;
    }

    #map-header h1 {
      margin: 0;
      font-size: 28px;
      font-weight: bold;
    }

    #map-header .white-text {
      color: white;
    }

    #map-header .blue-text {
      color: #00bfff;
    }

    #map-header p {
      margin: 2px 0 0;
      font-size: 14px;
      color: white;
    }

    #logo-top-left {
      position: absolute;
      top: 10px;
      left: 10px;
      height: 60px;
      z-index: 1100;
      pointer-events: auto;
      opacity: 0.9;
    }

    #logo-top-right {
      position: absolute;
      top: 10px;
      right: 15px;
      height: 70px;
      z-index: 1200;
      pointer-events: auto;
      opacity: 0.9;
    }

    /* Responsive styles */
    @media (max-width: 768px) {
      #event-list {
        width: 90%;
        left: 5%;
        right: 5%;
        bottom: 10px;
        font-size: 13px;
        padding: 8px;
      }

      #event-list h3 {
        font-size: 15px;
      }

      #map-header h1 {
        font-size: 22px;
      }

      #map-header p {
        font-size: 12px;
      }

      #logo-top-left {
        height: 45px;
      }

      #logo-top-right {
        height: 48px;
      }

      .event-item {
        flex-direction: column;
        align-items: flex-start;
        font-size: 13px;
      }

      .event-item strong {
        margin-bottom: 3px;
      }

      #search-bar {
        font-size: 13px;
        padding: 4px;
      }
    }

    @media (max-width: 480px) {
      #event-list {
        max-height: 300px;
        font-size: 12px;
      }

      #map-header h1 {
        font-size: 15px;
      }

      #map-header p {
        font-size: 11px;
      }

      #logo-top-left {
        height: 30px;
      }

      #logo-top-right {
        height: 40px;
      }

      #search-bar {
        font-size: 12px;
        padding: 3px;
      }
    }
  </style>
</head>
<body>
  <header class="overlay-header">
    <div id="map-header">
      <h1><span class="white-text">INNO</span><span class="blue-text"> MAPS</span><span class="blue-text"></span></h1>
      <p>Built by Innovators, for Explorers</p>
    </div>
    <img id="logo-top-right" src="build.png" alt="Build Club Logo">
    <img id="logo-top-left" src="https://iccams-presidencyuniversity.netlify.app/author_registration/images/WhitePresidency-University-Logo_madhu_16-04-21-01.png" alt="Presidency Logo">

  </header>
  




  <div id="map"></div>

  <div id="event-list">
    <button id="toggle-button">−</button>
    <h3>Locations</h3>
    <div class="legend">
      <span style="background:blue;"></span> ALL The Blocks<br>
      <span style="background:red;"></span> Seminar Halls<br>
      <span style="background:green;"></span> Main Blocks<br>
      <span style="background:grey;"></span> Refreshments and Rest rooms<br>
    </div>
    <input type="text" id="search-bar" placeholder="Where You want to go....">
    <div id="list-content"></div>
  </div>
  

  <script>
    const map = L.map('map').setView([13.1689, 77.5347], 15);
    map.zoomControl.setPosition('bottomleft');

    L.tileLayer('https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}', {
      attribution: 'Tiles &copy; Esri'
    }).addTo(map);

    if (window.innerWidth <= 768) {13.168452, 77.535304
      map.dragging.disable();
      map.on('click', () => map.dragging.enable());
    }

    const locations = [
      [13.167549, 77.533214, 'Innovation Lab S Block 4th Floor', 'blue', 'https://venturebeat.com/wp-content/uploads/2013/11/8346004151_640530f3f6_z.jpg?w=400'],
      [13.167394, 77.533096, 'U Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.167666, 77.533411, 'Q Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.168269, 77.533232, 'L Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.168600, 77.533340, 'F Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.168933, 77.533561, 'E Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.168293310979077, 77.53538507491174, 'Management Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.169364237722265, 77.53350661748166, 'D Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.167154, 77.533524, 'U Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.167425, 77.533614, 'R Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.167820, 77.533824, 'P Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.168138, 77.533914, 'N Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.168640030226847, 77.53393556864103, 'J Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.168711851331121, 77.53413941652181, 'H Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.168380168237185, 77.53405358583517, 'K Block', 'blue', 'https://presidencyuniversity.in/uploads/events/6720bef8a9a391730199288.jpg'],
      [13.169011262394708, 77.53471844658185, 'Glass Building', 'green', 'https://content.jdmagicbox.com/v2/comp/bangalore/t8/080pxx80.xx80.190720191721.y9t8/catalogue/presidency-university-dibbur-bangalore-universities-6n34f77mrb-250.jpg'],
      [13.169782, 77.535607, 'Main Lawn', 'green', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSG2DLaAGB1BNDor7DbEF2b9pfEnkuEvrR-wA&s'],
      [13.168439, 77.535478, 'Department Of Student Affairs(DSA)', 'green', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRr3xwWPfmycvUkBkT6etrJHbC4XPooEhyXlQ&s'],
      [13.16856, 77.53497, 'Office of International Affairs(OIA)', 'green', 'https://media.licdn.com/dms/image/v2/C5612AQEG2Fg7iaLcUQ/article-cover_image-shrink_720_1280/article-cover_image-shrink_720_1280/0/1640661352764?e=2147483647&v=beta&t=YDGTDJDNC4vnvtW5uu5LlSHhVODM-Lem_t4J3zzn7mc'],
      [13.169052, 77.534035, 'Addmission Office and Register Office', 'green', 'https://presidencyuniversity.in/uploads/images/6703c923a753a1728301347.webp'],
      [13.168853, 77.533748, 'E Block Seminar Hall', 'red', 'https://beginner.flitetest.com/wp-content/uploads/2023/11/mighty-mini-rc-plane.webp'],
      [13.168544, 77.533614, 'F Block Seminar Hall', 'red', 'https://images.squarespace-cdn.com/content/v1/5d139a978680e80001bede30/82424ebb-009a-46ea-8d62-42f93e05b39e/UI+vs+UX+Design+Cover+Image.jpg'],
      [13.168428805476314, 77.53610240582404, 'Auditorium', 'red', 'https://presidencyuniversity.in/assets/frontend/images/auditorium-sm.webp'],
      [13.168376571888068, 77.53639275494764, 'Cafeteria', 'gray', 'https://content3.jdmagicbox.com/v2/comp/bangalore/t8/080pxx80.xx80.190720191721.y9t8/catalogue/presidency-university-dibbur-bangalore-universities-yh3kg1llw4.jpg'],
      [13.168481445979214, 77.53436618410021, 'Uday Upahara', 'gray', 'https://media.licdn.com/dms/image/v2/C5622AQE-T4dMrH5yCQ/feedshare-shrink_2048_1536/feedshare-shrink_2048_1536/0/1590494263301?e=2147483647&v=beta&t=FPH-wJQZqSDMiTKZ6bvskvUySQbaiXfdn9zllkTkyGw'],
      [13.169256757345009, 77.53413347118573, 'Subway And Hatti Kappi', 'gray', 'https://presidencyuniversity.in/assets/frontend/images/cafeteria-food-courts.webp'],
      [13.17178764418144, 77.53616562179174, 'Main Gate', 'gray', 'https://content3.jdmagicbox.com/v2/comp/bangalore/t8/080pxx80.xx80.190720191721.y9t8/catalogue/presidency-university-dibbur-bangalore-universities-7pp4ze8bpf.jpg'],
      [13.168452, 77.535304, 'Wash Rooms 1', 'gray', 'https://euronics.co.in/wp-content/uploads/2024/11/03.jpg'],
      [13.168608, 77.533478, 'Wash Rooms 2', 'gray', 'https://euronics.co.in/wp-content/uploads/2024/11/03.jpg'],
      [13.167834445868888, 77.5333534600714, 'Wash Rooms 3', 'gray', 'https://euronics.co.in/wp-content/uploads/2024/11/03.jpg']
    ];

    const markers = [];
    const listContent = document.getElementById('list-content');
    const eventList = document.getElementById('event-list');
    const toggleButton = document.getElementById('toggle-button');
    const searchBar = document.getElementById('search-bar');
    const legend = document.querySelector('.legend');
    const heading = eventList.querySelector('h3');

    toggleButton.addEventListener('click', () => {
      const isVisible = listContent.style.display !== 'none';
      listContent.style.display = isVisible ? 'none' : 'block';
      searchBar.style.display = isVisible ? 'none' : 'block';
      legend.style.display = isVisible ? 'none' : 'block';
      heading.style.display = isVisible ? 'none' : 'block';
      toggleButton.textContent = isVisible ? '+' : '−';
    });

    locations.forEach((loc, index) => {
      const [lat, lng, desc, color, img] = loc;
      const number = index + 1;

      const marker = L.marker([lat, lng], {
        icon: L.divIcon({
          className: 'custom-div-icon',
          html: `<div title="Click for directions" style="background:${color};">${number}</div>`,
          iconSize: [30, 42],
          iconAnchor: [15, 42],
          popupAnchor: [0, -35]
        })
      }).addTo(map);

      marker.bindTooltip(`<b>${desc}</b><br><img src="${img}" style="max-width:100%; height:auto;">`, {
        direction: 'top',
        sticky: true,
        opacity: 0.9
      });

      marker.on('click', () => {
        const gmapsUrl = `https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}`;
        window.open(gmapsUrl, '_blank');
      });

      const listItem = document.createElement('div');
      listItem.className = 'event-item';
      listItem.innerHTML = `
        <span style="display:inline-block; width:12px; height:12px; background:${color}; border-radius:50%; margin-right:8px;"></span>
        <strong>${number}.</strong> ${desc.split(',')[0]}
      `;
      listItem.onclick = () => {
        map.setView([lat, lng], 17);
        marker.openTooltip();
      };

      listContent.appendChild(listItem);
      markers.push({ marker, listItem, description: desc });
    });

    searchBar.addEventListener('input', function () {
      const query = this.value.toLowerCase();
      markers.forEach(({ marker, listItem, description }) => {
        const match = description.toLowerCase().includes(query);
        listItem.style.display = match ? 'flex' : 'none';
        if (match) {
          marker.addTo(map);
        } else {
          map.removeLayer(marker);
        }
      });
    });
  </script>
  <script src="script.js"></script>
  <footer class="overlay-footer">
    <p>Developed By <a href="https://www.linkedin.com/in/bhuvan-a-407b83255" target="_blank" style="color: #00aced; text-decoration: underline;">Bhuvan</a></p>
    <p>Copyright © 2025 | INNOMAPS -Built by Innovators, for Explorers . All Rights Reserved.</p>
  </footer>
  
  
</body>
</html>
